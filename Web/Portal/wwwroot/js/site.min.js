(function(n){var u=[],e=function(){n("#loader").toggleClass("hidden")},o=function(){n("#loader").toggleClass("hidden")},i=function(i,f){if(typeof i=="undefined"||typeof f=="undefined")n.each(u,function(t,i){return n(i).Superior()!==null&&n(i).Superior().is(".vazia")?(n(i).Superior().Rua(),!1):n(i).Inferior()!==null&&n(i).Inferior().is(".vazia")?(n(i).Inferior().Rua(),!1):n(i).Anterior()!==null&&n(i).Anterior().is(".vazia")?(n(i).Anterior().Rua(),!1):n(i).Posterior()!==null&&n(i).Posterior().is(".vazia")?(n(i).Posterior().Rua(),!1):void 0}),r();else{var e=t(i,f);e.Rua();r()}},s=function(){e();for(var n=l().length;n>0;)setTimeout(i,0),n--,console.log(n);o()},h=function(){},r=function(){u=a()},c=function(){n(".celula").Vazia();i(36,0)},l=function(){return f("vazia")},a=function(){return f("rua")},t=function(t,i){return n('div[data-linha="'+t+'"]div[data-coluna="'+i+'"]')},f=function(t){return n(".cidade ."+t)};n.fn.extend({Rua:function(){n(this).removeClass();n(this).addClass("celula rua")},Vazia:function(){n(this).removeClass();n(this).addClass("celula vazia")},Casa:function(){n(this).removeClass();n(this).addClass("celula casa")},Superior:function(){var i=n(this).attr("data-linha"),r=n(this).attr("data-coluna");return t(parseInt(i)-1,r)},Inferior:function(){var i=n(this).attr("data-linha"),r=n(this).attr("data-coluna");return t(parseInt(i)+1,r)},Anterior:function(){var i=n(this).attr("data-linha"),r=n(this).attr("data-coluna");return t(i,parseInt(r)-1)},Posterior:function(){var i=n(this).attr("data-linha"),r=n(this).attr("data-coluna");return t(i,parseInt(r)+1)},Vizinhas:function(){var t=[];return t.push(n(this).Superior()),t.push(n(this).Inferior()),t.push(n(this).Anterior()),t.push(n(this).Posterior()),t},VizinhasQueSaoRuas:function(){var i=n(this).Vizinhas(),t=[];return n.each(i,function(i,r){n(r).is(".rua")&&t.push(r)}),t}});i(36,0);r();n(".adicionarRuas").on("click",function(){s()});n(".adicionarRua").on("click",function(){i()});n(".adicionarCasa").on("click",function(){h()});n(".resetarCidade").on("click",function(){c()})})(jQuery);